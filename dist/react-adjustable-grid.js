!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-draggable")):"function"==typeof define&&define.amd?define(["react","react-draggable"],t):"object"==typeof exports?exports.ReactAdjustableGrid=t(require("react"),require("react-draggable")):e.ReactAdjustableGrid=t(e.React,e.Draggable)}(self,(function(e,t){return(()=>{"use strict";var r={359:t=>{t.exports=e},668:e=>{e.exports=t}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{o.r(a),o.d(a,{default:()=>V});var e=o(359),t=o.n(e),r=o(668),n=o.n(r);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(){};function c(e,r){var n=[];return t().Children.forEach(r,(function(e,t){if(e.key){var r=String(e.key),o=e.props["data-grid"];o&&n.push(s(s({},o),{},{i:r}))}})),n}function f(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function p(e,t,r){for(var n={},o=0;o<e.length;o++){var a,i,s=e[o],l={i:s.i,x:f(r.slice(0,s.x-1)),y:f(t.slice(0,s.y-1)),w:f(r.slice(s.x-1,s.x+s.w-1)),h:f(t.slice(s.y-1,s.y+s.h-1)),bx:0,by:0,row:s.y,col:s.x,rowSpan:s.h,colSpan:s.w};l.bx=l.x+(null!==(a=s.bx)&&void 0!==a?a:0),l.by=l.y+(null!==(i=s.by)&&void 0!==i?i:0),s.by&&s.by>l.h+5&&(console.warn("ResizableGrid: ResizableGrid.children[%d].by (key = %s) was set to  a value higher than its current height (%d > %d). This will only take effect once the cell's height has reached this value and should be avoided!",o,s.i,s.by,l.h),l.by=l.y+l.h),s.bx&&s.bx>l.w+5&&(console.warn("ResizableGrid: ResizableGrid.children[%d].bx (key = %s) was set to a value higher than its current width (%d > %d). This will only take effect once the cell's width has reached this value and should be avoided!",o,s.i,s.bx,l.w),l.bx=l.x+l.w),n[l.i]=l}return n}function y(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=y(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function d(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=y(e))&&(n&&(n+=" "),n+=t);return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){return{width:e}},O=function(e){return{height:e}};function x(e){var t,r;"y"===e?(t="y",r="x"):(t="x",r="y");var n=function(e,r){return e[t]===r[t]},o=function(e,o){return n(e,o)?e[r]-o[r]:e[t]-o[t]};return function(e){e.sort(o);for(var t,a,i=[],s=0;s<e.length;s++){var l=e[s];if(s>=e.length-1){i.push(l);break}if(n(l,e[s+1])){for(;s<e.length-1&&(t=l,a=e[s+1],t[r]+t.size===a[r]);s++)l.size+=e[s+1].size,l.bounds=Math.max(l.bounds,e[s+1].bounds);for(i.push(l);s<e.length-1&&n(l,e[s+1]);s++)i.push(e[s+1])}else i.push(l)}return i}}var j=x("y"),R=x("x"),S=function(e){return{size:e.h,x:e.x+e.w,y:e.y,bounds:e.bx,index:e.col+e.colSpan-2}};var P={onBeforeDrag:u,onDrag:u,onDragEnd:u};function z(r){var o,a,i,s;return"y"===r?(o=function(e,t){return{x:e.x,y:e.y}},a=m,i="top",s="row"):(o=function(e,t){return{x:e.x,y:e.y}},a=O,i="left",s="col"),function(l){var u;l=h(h({},P),l);var c,f,p=(c=(0,e.useState)(!1),f=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(c,f)||w(c,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=p[0],b=p[1],g=(0,e.useRef)(null),m=d("rsg-separator",s),O=null!==(u=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--rsg-separator-size")))&&void 0!==u?u:10,x="rsg-".concat(s,"-resizing");return(0,e.useEffect)((function(){var e=document.body.classList;y?e.add(x):e.remove(x)}),[y]),t().createElement(n(),{nodeRef:g,axis:r,defaultClassNameDragging:"dragging",position:o(l,O),bounds:v({},i,l.bounds),grid:[10,10],onStart:function(){l.onBeforeDrag(l.index,l[r]),b(!0)},onDrag:function(e,t){if(t[r]<l.bounds)return!1;var n="x"===r?t.deltaX:t.deltaY;return 0!==n?l.onDrag(l.index,n):void 0},onStop:function(){l.onDragEnd(l.index,0),b(!1)}},t().createElement("div",{ref:g,className:m,style:a(l.size)}))}}var C=z("y"),A=z("x");function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=I(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function _(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t){return G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},G(e,t)}function q(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(l,e);var r,n,o,a,i,s=(a=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(a);if(i){var r=$(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return q(this,e)});function l(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),F(N(r=s.call(this,e)),"state",{measuredCells:{},areaMatrix:[],rows:_(r.props.rows),cols:_(r.props.cols),layout:c(0,r.props.children),bounds:0,externalUpdate:!1,children:r.props.children,propsRows:r.props.rows,propsCols:r.props.cols}),F(N(r),"calculateResizeBoundary",(function(e,t,n){var o,a,i,s=r.state,l=s.areaMatrix,u=s.cols,c=s.rows,p=s.measuredCells;"col"===e?(o=function(e){for(var t=e.length,r=e[0].length,n=Array(r),o=0;o<r;o++){n[o]=Array(t);for(var a=0;a<t;a++)n[o][a]=e[a][o]}return n}(l),a=u,i=function(e){var t;return e.x+e.w-(null!==(t=e.bx)&&void 0!==t?t:0)}):(o=l,a=c,i=function(e){var t;return e.y+e.h-(null!==(t=e.by)&&void 0!==t?t:0)});var y,d=[],b=B(o[t]);try{for(b.s();!(y=b.n()).done;){var h=p[y.value];h&&d.push(i(h))}}catch(e){b.e(e)}finally{b.f()}var v=Math.min.apply(Math,d),w=f(a.slice(0,t));return Math.max(w+10,n-v)})),F(N(r),"createCellMatrix",(function(){var e,t=r.props,n=t.rows,o=t.cols,a=r.state.layout,i=n.length,s=o.length,l=function(e,t){for(var r=Array(e),n=0;n<e;n++)r[n]=Array(t).fill(-1);return r}(i,s),u=B(a);try{for(u.s();!(e=u.n()).done;)for(var c=e.value,f=Math.min(c.y+c.h-1,i),p=Math.min(c.x+c.w-1,s),y=c.y-1;y<f;y++)for(var d=c.x-1;d<p;d++)l[y][d]=String(c.i)}catch(e){u.e(e)}finally{u.f()}return l})),F(N(r),"onBeforeColResize",(function(e,t){r.setState({bounds:r.calculateResizeBoundary("col",e,t)})})),F(N(r),"onColResize",(function(e,t){var n=r.state.cols[e]+t;if(r.props.onColumnResize(e,n))r.setState({externalUpdate:!0});else if(!(f(r.state.cols.slice(0,e))+n<r.state.bounds)){var o=_(r.state.cols);o[e]+=t;var a=p(r.state.layout,r.state.rows,o);r.setState({cols:o,measuredCells:a,externalUpdate:!1})}})),F(N(r),"onAfterColResize",(function(e){var t=r.state.cols;r.props.onAfterColumnResize(e,t[e])})),F(N(r),"onBeforeRowResize",(function(e,t){r.setState({bounds:r.calculateResizeBoundary("row",e,t)})})),F(N(r),"onRowResize",(function(e,t){if(r.props.onRowResize(e,r.state.rows[e]+t))r.setState({externalUpdate:!0});else{var n=_(r.state.rows);n[e]+=t;var o=p(r.state.layout,n,r.state.cols);r.setState({rows:n,measuredCells:o,externalUpdate:!1})}})),F(N(r),"onAfterRowResize",(function(e){var t=r.state.rows;r.props.onAfterRowResize(e,t[e])})),F(N(r),"processChild",(function(e,n){if(e&&e.key){var o=r.state.measuredCells[e.key];return o?t().createElement("div",{key:e.key,style:{position:"absolute",top:o.y,left:o.x,width:o.w,height:o.h}},e):null}})),F(N(r),"getSeparatorProps",(function(){var e=r.state.measuredCells;return function(e){var t,r,n={row:[],col:[]},o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;n.row.push({size:(r=a).w,x:r.x,y:r.y+r.h,bounds:r.by,index:r.row+r.rowSpan-2}),n.col.push(S(a))}}catch(e){o.e(e)}finally{o.f()}return{row:j(n.row),col:R(n.col)}}(Object.values(e))})),r.state=M(M({},r.state),{},{areaMatrix:r.createCellMatrix(),measuredCells:p(r.state.layout,r.state.rows,r.state.cols)}),r}return r=l,o=[{key:"getDerivedStateFromProps",value:function(e,t){var r,n,o,a=!1,i={};return e.children!==t.children&&(i.layout=c(t.layout,e.children),i.children=e.children,a=!0),e.rows!==t.propsRows&&(i.rows=_(e.rows),i.propsRows=e.rows,a=!0),e.cols!==t.propsCols&&(i.cols=_(e.cols),i.propsCols=e.cols,a=!0),a?(i.measuredCells=p(null!==(r=i.layout)&&void 0!==r?r:t.layout,null!==(n=i.rows)&&void 0!==n?n:t.rows,null!==(o=i.cols)&&void 0!==o?o:t.cols),i):null}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||this.state.rows!==t.rows||this.state.cols!==t.cols||this.state.bounds!==t.bounds}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return 0}},{key:"componentDidUpdate",value:function(e,t,r){if(r){var n=M({},this.state);8&r&&(n.layout=c(this.state.layout,this.props.children)),1&r&&(n.rows=_(this.props.rows)),2&r&&(n.cols=_(this.props.cols)),15&r&&(n.measuredCells=p(n.layout,n.rows,n.cols)),this.setState(M({},n))}}},{key:"render",value:function(){var e=this,r=this.props,n=r.style,o=r.className,a=this.state,i=a.bounds,s=a.rows,l=a.cols,u=this.props.children,c=d("rsg-resizable-grid",o),p=M(M({},n),{},{width:f(l),height:f(s)}),y=this.getSeparatorProps(),b=y.row,h=y.col;return t().createElement("div",{className:c,style:p},t().Children.map(u,this.processChild),h.map((function(r,n){return t().createElement(A,E({},r,{key:"colsep_".concat(n),bounds:Math.max(i,r.bounds),onBeforeDrag:e.onBeforeColResize,onDrag:e.onColResize,onDragEnd:e.onAfterColResize}))})),b.map((function(r,n){return t().createElement(C,E({},r,{key:"rowsep_".concat(n),bounds:Math.max(i,r.bounds),onBeforeDrag:e.onBeforeRowResize,onDrag:e.onRowResize,onDragEnd:e.onAfterRowResize}))})))}}])&&U(r.prototype,n),o&&U(r,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(t().Component);F(L,"defaultProps",{onAfterRowResize:u,onBeforeColumnResize:u,onAfterColumnResize:u,onBeforeRowResize:u,onColumnResize:u,onRowResize:u});const V=L})(),a})()}));
//# sourceMappingURL=react-adjustable-grid.js.map