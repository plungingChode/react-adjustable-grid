!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-draggable")):"function"==typeof define&&define.amd?define(["react","react-draggable"],t):"object"==typeof exports?exports.ReactAdjustableGrid=t(require("react"),require("react-draggable")):e.ReactAdjustableGrid=t(e.React,e.Draggable)}(this,(function(e,t){return(()=>{"use strict";var r={359:t=>{t.exports=e},668:e=>{e.exports=t}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{o.r(a),o.d(a,{default:()=>H});var e=o(359),t=o.n(e),r=o(668),n=o.n(r);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(){};function y(e,r){var n=[];return t().Children.forEach(r,(function(e,t){if(e.key){var r=String(e.key),o=e.props["data-grid"];o&&n.push(s(s({},o),{},{i:r}))}})),n}function p(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function d(e,t,r){for(var n=e.length,o=t.length,a=Array(n),i=0;i<n;i++)a[i]=Array(o).fill(-1);var s,l=u(r);try{for(l.s();!(s=l.n()).done;)for(var c=s.value,f=Math.min(c.y+c.h-1,n),y=Math.min(c.x+c.w-1,o),p=c.y-1;p<f;p++)for(var d=c.x-1;d<y;d++)a[p][d]=String(c.i)}catch(e){l.e(e)}finally{l.f()}return a}function b(e,t,r){for(var n={},o=0;o<r.length;o++){var a,i,s=r[o],l={i:s.i,x:p(t.slice(0,s.x-1)),y:p(e.slice(0,s.y-1)),w:p(t.slice(s.x-1,s.x+s.w-1)),h:p(e.slice(s.y-1,s.y+s.h-1)),bx:0,by:0,row:s.y,col:s.x,rowSpan:s.h,colSpan:s.w};l.bx=l.x+(null!==(a=s.bx)&&void 0!==a?a:0),l.by=l.y+(null!==(i=s.by)&&void 0!==i?i:0),s.by&&s.by>l.h+5&&(console.warn("ResizableGrid: ResizableGrid.children[%d].by (key = %s) was set to  a value higher than its current height (%d > %d). This will only take effect once the cell's height has reached this value and should be avoided!",o,s.i,s.by,l.h),l.by=l.y+l.h),s.bx&&s.bx>l.w+5&&(console.warn("ResizableGrid: ResizableGrid.children[%d].bx (key = %s) was set to a value higher than its current width (%d > %d). This will only take effect once the cell's width has reached this value and should be avoided!",o,s.i,s.bx,l.w),l.bx=l.x+l.w),n[l.i]=l}return n}function h(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=h(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function v(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=h(e))&&(n&&(n+=" "),n+=t);return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=function(e){return{width:e}},S=function(e){return{height:e}};function R(e){var t,r;"y"===e?(t="y",r="x"):(t="x",r="y");var n=function(e,r){return e[t]===r[t]},o=function(e,o){return n(e,o)?e[r]-o[r]:e[t]-o[t]};return function(e){e.sort(o);for(var t,a,i=[],s=0;s<e.length;s++){var l=e[s];if(s>=e.length-1){i.push(l);break}if(n(l,e[s+1])){for(;s<e.length-1&&(t=l,a=e[s+1],t[r]+t.size===a[r]);s++)l.size+=e[s+1].size,l.bounds=Math.max(l.bounds,e[s+1].bounds);for(i.push(l);s<e.length-1&&n(l,e[s+1]);s++)i.push(e[s+1])}else i.push(l)}return i}}var P=R("y"),z=R("x"),A=function(e){return{size:e.h,x:e.x+e.w,y:e.y,bounds:e.bx,index:e.col+e.colSpan-2}};var C={onBeforeDrag:f,onDrag:f,onDragEnd:f};function D(r){var o,a,i,s;return"y"===r?(o=function(e){return{x:e.x,y:e.y}},a=x,i="top",s="row"):(o=function(e){return{x:e.x,y:e.y}},a=S,i="left",s="col"),function(l){l=g(g({},C),l);var u,c,f=(u=(0,e.useState)(!1),c=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(u,c)||O(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=f[0],p=f[1],d=(0,e.useRef)(null),b=v("rsg-separator",s),h="rsg-".concat(s,"-resizing");return(0,e.useEffect)((function(){var e=document.body.classList;y?e.add(h):e.remove(h)}),[y]),t().createElement(n(),{nodeRef:d,axis:r,defaultClassNameDragging:"dragging",position:o(l),bounds:m({},i,l.bounds),grid:[10,10],onStart:function(){l.onBeforeDrag(l.index,l[r]),p(!0)},onDrag:function(e,t){if(t[r]<l.bounds)return!1;var n="x"===r?t.deltaX:t.deltaY;return 0!==n?l.onDrag(l.index,n):void 0},onStop:function(){l.onDragEnd(l.index,0),p(!1)}},t().createElement("div",{ref:d,className:b,style:a(l.size)}))}}var E=D("y"),k=D("x");function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M.apply(this,arguments)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function $(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(l,e);var r,n,o,a,i,s=(a=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(a);if(i){var r=L(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return $(this,e)});function l(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),X(F(r=s.call(this,e)),"state",{measuredCells:{},keyMatrix:[],rows:T(r.props.rows),cols:T(r.props.cols),layout:y(0,r.props.children),bounds:0,externalUpdate:!1,children:r.props.children,propsRows:r.props.rows,propsCols:r.props.cols}),X(F(r),"calculateResizeBoundary",(function(e,t,n){var o,a,i,s=r.state,l=s.keyMatrix,u=s.cols,c=s.rows,f=s.measuredCells;"col"===e?(o=function(e){for(var t=e.length,r=e[0].length,n=Array(r),o=0;o<r;o++){n[o]=Array(t);for(var a=0;a<t;a++)n[o][a]=e[a][o]}return n}(l),a=u,i=function(e){var t;return e.x+e.w-(null!==(t=e.bx)&&void 0!==t?t:0)}):(o=l,a=c,i=function(e){var t;return e.y+e.h-(null!==(t=e.by)&&void 0!==t?t:0)});var y,d=[],b=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=U(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(o[t]);try{for(b.s();!(y=b.n()).done;){var h=f[y.value];h&&d.push(i(h))}}catch(e){b.e(e)}finally{b.f()}var v=Math.min.apply(Math,d),w=p(a.slice(0,t));return Math.max(w+10,n-v)})),X(F(r),"onBeforeColResize",(function(e,t){r.setState({bounds:r.calculateResizeBoundary("col",e,t)}),r.props.onBeforeColumnResize(e,r.state.cols[e])})),X(F(r),"onColResize",(function(e,t){var n=r.state.cols[e]+t;if(r.props.onColumnResize(e,n))r.setState({externalUpdate:!0});else if(!(p(r.state.cols.slice(0,e))+n<r.state.bounds)){var o=T(r.state.cols);o[e]+=t;var a=b(r.state.rows,o,r.state.layout);r.setState({cols:o,measuredCells:a,externalUpdate:!1})}})),X(F(r),"onAfterColResize",(function(e){var t=r.state.cols;r.props.onAfterColumnResize(e,t[e])})),X(F(r),"onBeforeRowResize",(function(e,t){r.setState({bounds:r.calculateResizeBoundary("row",e,t)}),r.props.onBeforeRowResize(e,r.state.rows[e])})),X(F(r),"onRowResize",(function(e,t){if(r.props.onRowResize(e,r.state.rows[e]+t))r.setState({externalUpdate:!0});else{var n=T(r.state.rows);n[e]+=t;var o=b(n,r.state.cols,r.state.layout);r.setState({rows:n,measuredCells:o,externalUpdate:!1})}})),X(F(r),"onAfterRowResize",(function(e){var t=r.state.rows;r.props.onAfterRowResize(e,t[e])})),X(F(r),"processChild",(function(e,n){if(e&&e.key){var o=r.state.measuredCells[e.key];return o?t().cloneElement(e,{className:v("rsg-grid-cell",e.props.className),style:I(I({},e.props.style),{},{position:"absolute",top:o.y,left:o.x,width:o.w,height:o.h})}):null}})),X(F(r),"getSeparatorProps",(function(){var e=r.state.measuredCells;return function(e){var t,r,n={row:[],col:[]},o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=O(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;n.row.push({size:(r=a).w,x:r.x,y:r.y+r.h,bounds:r.by,index:r.row+r.rowSpan-2}),n.col.push(A(a))}}catch(e){o.e(e)}finally{o.f()}return{row:P(n.row),col:z(n.col)}}(Object.values(e))})),r.state=I(I({},r.state),{},{keyMatrix:d(r.state.rows,r.state.cols,r.state.layout),measuredCells:b(r.state.rows,r.state.cols,r.state.layout)}),r}return r=l,o=[{key:"getDerivedStateFromProps",value:function(e,t){var r,n,o,a=!1,i={};return e.children!==t.children&&(i.layout=y(t.layout,e.children),i.children=e.children,a=!0),e.rows!==t.propsRows&&(i.rows=T(e.rows),i.propsRows=e.rows,a=!0),e.cols!==t.propsCols&&(i.cols=T(e.cols),i.propsCols=e.cols,a=!0),a?(i.rows=null!==(r=i.rows)&&void 0!==r?r:t.rows,i.cols=null!==(n=i.cols)&&void 0!==n?n:t.cols,i.layout=null!==(o=i.layout)&&void 0!==o?o:t.layout,i.measuredCells=b(i.rows,i.cols,i.layout),e.rows.length===t.rows.length&&e.cols.length===t.cols.length||(i.keyMatrix=d(i.rows,i.cols,i.layout)),i):null}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||this.state.rows!==t.rows||this.state.cols!==t.cols||this.state.bounds!==t.bounds}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return 0}},{key:"componentDidUpdate",value:function(e,t,r){if(r){var n=I({},this.state);8&r&&(n.layout=y(this.state.layout,this.props.children)),1&r&&(n.rows=T(this.props.rows)),2&r&&(n.cols=T(this.props.cols)),15&r&&(n.measuredCells=b(n.rows,n.cols,n.layout)),this.setState(I({},n))}}},{key:"render",value:function(){var e=this,r=this.props,n=r.style,o=r.className,a=this.state,i=a.bounds,s=a.rows,l=a.cols,u=this.props.children,c=v("rsg-resizable-grid",o),f=I(I({},n),{},{width:p(l),height:p(s)}),y=this.getSeparatorProps(),d=y.row,b=y.col;return t().createElement("div",{className:c,style:f},t().Children.map(u,this.processChild),b.map((function(r,n){return t().createElement(k,M({},r,{key:"colsep_".concat(n),bounds:Math.max(i,r.bounds),onBeforeDrag:e.onBeforeColResize,onDrag:e.onColResize,onDragEnd:e.onAfterColResize}))})),d.map((function(r,n){return t().createElement(E,M({},r,{key:"rowsep_".concat(n),bounds:Math.max(i,r.bounds),onBeforeDrag:e.onBeforeRowResize,onDrag:e.onRowResize,onDragEnd:e.onAfterRowResize}))})))}}])&&N(r.prototype,n),o&&N(r,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(t().Component);X(Y,"defaultProps",{onAfterRowResize:f,onBeforeColumnResize:f,onAfterColumnResize:f,onBeforeRowResize:f,onColumnResize:f,onRowResize:f});const H=Y})(),a})()}));
//# sourceMappingURL=react-adjustable-grid.js.map